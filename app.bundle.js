(()=>{"use strict";var t,e={383:(t,e,i)=>{var n=i(569);i(972),i(409),i(928),i(132);function s(t){const e=t.toString(16);return 1==e.length?"0"+e:e}function r(t,e){e&&Object.keys(e).length&&Object.keys(e).forEach((i=>{const n=e[i];t.setAttribute(i,n)}))}function o(t){const e=document.createElement("a-gui-flex-container");return r(e,{"flex-direction":"column","justify-content":"center","align-items":"normal","component-padding":"0.1",opacity:"0.7",width:"0.8",height:"0.25",position:"0 0 0.05 0"}),r(e,t),e}function a(t,e){const i=document.createElement("a-gui-label");return r(i,{width:"1",height:"0.2",value:t,"font-family":"Arial","font-size":"80px",margin:"0 0 0.05 0"}),r(i,e),i}function c(t){let e=document.createElement("a-gui-button");return r(e,{width:"0.2",height:"0.2","font-family":"Arial","font-size":"80px","font-color":"#212121"}),r(e,t),e}function h(t){let e=document.createElement("a-gui-toggle");return r(e,{width:"0.9",height:"0.2","font-size":"70px",margin:"0 0 0.05 0"}),r(e,t),e}function l(t,e){const i=a("Opacity");t.appendChild(i);const n=function(t){let e=document.createElement("a-gui-slider");return r(e,{width:"1",height:"0.3",percent:"0.9",margin:"0 0 0.05 0"}),r(e,t),e}({percent:"0.5"}),s="slideOpacity"+(new Date).getTime();n.setAttribute("onclick",s),window[s]=function(t,i){e.setOpacity(i)},t.appendChild(n)}var u=i(486);const d={red:0,green:0,blue:0};let p,f,g,m;function b(t,e){f=t,p=e;const i=a("Color");f.appendChild(i),["red","green","blue"].forEach((t=>{!function(t){const e=o({"flex-direction":"row"});w(t,"decrease",e),w(t,"increase",e),f.appendChild(e)}(t)}))}function w(t,e,i){const n=c({value:"increase"===e?"+":"-","background-color":t}),r=e+t+(new Date).getTime();n.setAttribute("onclick",r);const o=(0,u.cloneDeep)(p);window[r]=function(i){const n="increase"===e?25:-25,r=d[t]+n;r>=0&&r<=255&&(d[t]=r);const{red:a,green:c,blue:h}=d,l=(u=c,p=h,"#"+s(a)+s(u)+s(p));var u,p;o.setColor(l)},i.appendChild(n)}function y(t,e){m=t,g=e;const i=a("Size");m.appendChild(i),function(){const t=o({"flex-direction":"row"});v("decrease",t),v("increase",t),m.appendChild(t)}()}function v(t,e){const i=c({value:"increase"===t?"+":"-","background-color":"grey"}),n=t+"size"+(new Date).getTime();i.setAttribute("onclick",n);const s=(0,u.cloneDeep)(g);window[n]=function(e){const i="increase"===t?1.2:.8;s.resize(i)},e.appendChild(i)}const A="/assets/images/textures/",R=".jpg",C={GRASS:A+"grass"+R,PAPER:A+"paper"+R,STONE:A+"stone"+R,WALLBRICK:A+"wall-brick"+R,WOODEN:A+"wooden"+R},E=Object.keys(C);let O=0;class k{constructor(t){this.figure=t,this.createMenuContainer(),function(t,e){const i=c({value:"X",margin:"0 0 0.05 0","background-color":"#e07979"}),n="closeMenu"+(new Date).getTime();i.setAttribute("onclick",n),window[n]=function(t){t.stopPropagation(),e.htmlRef.childNodes[0].setAttribute("visible","false")},t.appendChild(i)}(this.entityRef,t),b(this.entityRef,t),l(this.entityRef,t),y(this.entityRef,t),function(t,e){const i=h({value:"Wireframe"}),n="setWireframe"+(new Date).getTime();i.setAttribute("onclick",n),window[n]=function(t){const i="true"===e.htmlRef.getAttribute("wireframe");e.setWireframe(!i)},t.appendChild(i)}(this.entityRef,t),function(t,e){const i=c({value:"Change texture","font-size":"50px","background-color":"grey",width:.8,margin:"0 0 0.05 0"}),n="changeTexture"+(new Date).getTime();i.setAttribute("onclick",n),window[n]=function(t){O=O+1>E.length-1?0:O+1;const i=E[O],n={src:C[i],roughness:1};e.setMaterial(n)},t.appendChild(i)}(this.entityRef,t),function(t,e){const i=h({value:"Shadow"}),n="setShadow"+(new Date).getTime();i.setAttribute("onclick",n),window[n]=function(t){const i=e.htmlRef.getAttribute("shadow").receive;e.setShadow(!i)},t.appendChild(i)}(this.entityRef,t)}createMenuContainer(){this.entityRef=o({width:"1.3",height:"3.2",position:"0 2 0"}),this.figure.htmlRef.appendChild(this.entityRef),this.entityRef.setAttribute("visible","false")}}const x="selectable-custom";new Array;function S(t){const e=Object.keys(t);let i="";return e.forEach((e=>{i+=`${e}: ${String(t[e])}; `})),i}function _(t,e,i){const n=document.createElement(t.primitive);n.setAttribute("position",e);Object.keys(t).forEach((e=>{"primitive"!==e&&n.setAttribute(e,t[e])})),n.setAttribute("class","selectable-superhands"),n.setAttribute(x,""),function(t){t.setAttribute("hoverable",""),t.setAttribute("grabbable",""),t.setAttribute("draggable","")}(n),function(t){t.setAttribute("event-set__hoveron","_event: hover-start; material.opacity: 0.8; transparent: true"),t.setAttribute("event-set__hoveroff","_event: hover-end; material.opacity: 1; transparent: false"),t.setAttribute("event-set__dragdrop","event: drag-drop"),t.setAttribute("event-set__dragon","_event: dragover-start; material.wireframe: true"),t.setAttribute("event-set__dragoff","_event: dragover-end; material.wireframe: false")}(n),i.appendChild(n),t.htmlRef=n,new k(t)}class j{constructor(t){this.color="white",this.shadow=!1,this.opacity=1,this.wireFrame=!1;const{primitive:e,id:i,color:n,material:s,shadow:r,opacity:o,wireFrame:a}=t;this.primitive=e,i&&(this.id=i),n&&(this.color=n),s&&(this.material=S(s)),r&&(this.shadow=r),o&&(this.opacity=o),a&&(this.opacity=o)}setColor(t){this.color=t,this.htmlRef.setAttribute("color",t)}setMaterial(t){this.material=t;const e=t&&S(t);this.htmlRef.setAttribute("material",e)}setOpacity(t){this.opacity=t,this.htmlRef.setAttribute("opacity",t.toString())}resize(t){this.htmlRef.object3D.scale.multiplyScalar(t)}setWireframe(t){this.wireFrame=t,this.htmlRef.setAttribute("wireframe",String(t))}setShadow(t){this.shadow=t,this.htmlRef.setAttribute("shadow",`receive: ${t}`)}}class D extends j{constructor(t){t.primitive="a-cone",super(t),this["radius-bottom"]=t["radius-bottom"],this.height=t.height}}class T extends j{constructor(t){const{height:e,radius:i}=t;t.primitive="a-cylinder",super(t),this.height=e,this.radius=i}}class L extends j{constructor(t){t.primitive="a-sphere",super(t),this.radius=t.radius}}class P extends j{constructor(t){const{height:e,width:i,depth:n}=t;t.primitive="a-box",super(t),this.height=e,this.width=i,this.depth=n}}class z extends j{constructor(t){const{height:e,width:i,rotation:n}=t;t.primitive="a-plane",super(t),this.height=e,this.width=i,this.rotation=n}}class I{constructor(){this.sceneEl=document.querySelector("a-scene")}static getInstance(){return I.instance||(I.instance=new I),I.instance}getSceneEl(){return this.sceneEl}}class M{constructor(t){this.primitive="a-entity",this.props=t,this.createLightEntity()}createLightEntity(){this.htmlRef=document.createElement(this.primitive),this.setLightConfig();I.getInstance().getSceneEl().appendChild(this.htmlRef)}setLightConfig(){if(this.htmlRef&&this.props&&Object.keys(this.props)){const t=Object.assign({},this.props),e=t.position;delete t.position;const i=S(t);this.htmlRef.setAttribute("light",i),this.htmlRef.setAttribute("position",e)}}setProps(t){t&&Object.keys(t)&&(this.props=t,this.setLightConfig())}setActive(t){t?this.setLightConfig():this.htmlRef.setAttribute("light","")}}class W{constructor(t,e){this.componentId="figures-palette",this.figures=e||new Array,this.appendPalette(t),setTimeout((()=>{!function(){document.querySelector("a-plane");const t={dependencies:["raycaster"],init:function(){const t=this.el;let e=null;this.el.addEventListener("click",(function(i){i.stopPropagation(),i instanceof MouseEvent&&(e?((new Date).getTime()-e<400&&t.childNodes[0].setAttribute("visible","true"),e=null):e=(new Date).getTime())}))}};(0,n.registerComponent)(x,t)}();const{x:t,y:e,z:i}=this.entityRef.getAttribute("position");this.figures.forEach(((e,i)=>{_(e,t+2-(i+1)+" 0 0",this.entityRef)}))}),0)}appendPalette(t){const e=I.getInstance().getSceneEl();this.entityRef=document.createElement("a-entity"),this.entityRef.setAttribute("id",this.componentId),Object.keys(t).forEach((e=>{this.entityRef.setAttribute(e,t[e])})),e.appendChild(this.entityRef)}}document.addEventListener("DOMContentLoaded",(function(t){console.log("DOM fully loaded");const e=I.getInstance().getSceneEl();new M({type:"directional",castShadow:!0,intensity:.98,shadowCameraVisible:!1,position:"1 2 1.8"});_(new z({color:"purple",height:1,width:2,rotation:"-90 0 0"}),"-0.8 0.01 1.8",e);const i=[new D({"radius-bottom":.3,height:1,material:{src:C.GRASS,roughness:1}}),new T({radius:.3,height:1,material:{src:C.PAPER,roughness:1}}),new L({radius:.3,material:{src:C.WOODEN,roughness:1}}),new P({height:.5,width:.5,depth:.5,material:{src:C.WALLBRICK,roughness:1}})];new W({position:"0 0.5 0",rotation:"0 0 0"},i)}))}},i={};function n(t){var s=i[t];if(void 0!==s)return s.exports;var r=i[t]={id:t,loaded:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=e,t=[],n.O=(e,i,s,r)=>{if(!i){var o=1/0;for(h=0;h<t.length;h++){for(var[i,s,r]=t[h],a=!0,c=0;c<i.length;c++)(!1&r||o>=r)&&Object.keys(n.O).every((t=>n.O[t](i[c])))?i.splice(c--,1):(a=!1,r<o&&(o=r));a&&(t.splice(h--,1),e=s())}return e}r=r||0;for(var h=t.length;h>0&&t[h-1][2]>r;h--)t[h]=t[h-1];t[h]=[i,s,r]},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t={143:0};n.O.j=e=>0===t[e];var e=(e,i)=>{var s,r,[o,a,c]=i,h=0;for(s in a)n.o(a,s)&&(n.m[s]=a[s]);for(c&&c(n),e&&e(i);h<o.length;h++)r=o[h],n.o(t,r)&&t[r]&&t[r][0](),t[o[h]]=0;n.O()},i=self.webpackChunkaframe_editor_scene=self.webpackChunkaframe_editor_scene||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var s=n.O(void 0,[705],(()=>n(383)));s=n.O(s)})();